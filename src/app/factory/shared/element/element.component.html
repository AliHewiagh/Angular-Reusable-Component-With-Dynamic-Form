<div [formGroup]="form">
  <p *ngIf="!isValid" class="error-message">{{ element.label }} is required</p>
  <div [ngSwitch]="element.controlType">
    <mat-form-field *ngSwitchCase="'textbox'" class="example-full-width">
      <mat-label
        >{{ element.label }}
        <span class="required" *ngIf="element.required">*</span></mat-label
      >
      <input
        matInput
        [formControlName]="element.key"
        [id]="element.key"
        [type]="element.type"
      />
    </mat-form-field>

    <mat-form-field *ngSwitchCase="'dropdown'" appearance="fill">
      <mat-label
        >{{ element.label }}
        <span class="required" *ngIf="element.required">*</span></mat-label
      >
      <mat-select [id]="element.key" [formControlName]="element.key">
        <mat-option *ngFor="let opt of element.options" [value]="opt.key">
          {{ opt.value }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field *ngSwitchCase="'textarea'" class="example-full-width">
      <mat-label
        >{{ element.label }}
        <span class="required" *ngIf="element.required">*</span></mat-label
      >
      <textarea
        [id]="element.key"
        [formControlName]="element.key"
        matInput
      ></textarea>
    </mat-form-field>
  </div>
</div>
<br />
